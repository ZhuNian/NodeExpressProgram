{{#contentFor 'pageStyle'}}
<style>
  .to_do{
    color: red;
    display: inline-block;
    margin-left:10%;
  }
  .finished{
    color: blue;
    display: inline-block;
    margin-left:40%;
  }
  .checkedbox{
    margin-left:10rem;
  }
</style>
{{/contentFor}}

{{#contentFor 'pageScripts'}}
<script>
  var MyComponent = {
    viewModel: {
      toDo: [
        {desc: 'mithril', checkedToggle: true},
        {desc: 'node', checkedToggle: true},
        {desc: 'node2', checkedToggle: true},
        {desc: 'node3', checkedToggle: true},
        {desc: 'node4', checkedToggle: true},
        {desc: 'english', checkedToggle: false},
        {desc: 'chinese', checkedToggle: false},
        {desc: 'chinese2', checkedToggle: false},
        {desc: 'chinese3', checkedToggle: false},
        {desc: 'chinese4', checkedToggle: false}
      ],
      toDoListToggle: function(){
        this.checkedToggle = !this.checkedToggle;
      }
    },
    controller: myController,
    view:myView
  };
  m.mount(document.getElementById('content'), MyComponent);

  function myController(){
    return MyComponent.viewModel;
  }
  function displayDomElements(list){
    var toDos = [];
    var finished = [];
    var temp = [];
    list.forEach(function(l){
      temp = l.checkedToggle ? toDos : finished;
      temp.push(m('div.list-item',[
        m('span.desc', l.desc),
        m('input.checkedbox',{type:'checkbox',checked:l.checkedToggle,onchange:MyComponent.viewModel.toDoListToggle.bind(l)} )
      ]));
    });
    var listDom = {
      toDos: toDos,
      finished: finished
    };
    return listDom;
  };
  function myView(ctrl){
    var toDoList =displayDomElements( ctrl.toDo);
    return m('div.to_do_list', [
      m('div.to_do', toDoList.toDos ),
      m('div.finished', toDoList.finished)
    ]);
  }

</script>
{{/contentFor}}

<h1 style="text-align: center">{{title}}</h1>
<div id="content"></div>